YUI.add("moodle-atto_fontawesome-button",function(e,t){var n="atto_fontawesome",r={EMOTE:"atto_fontawesome_emote",MAP:"atto_fontawesome_map"},i={EMOTE:".atto_fontawesome_emote"},s='<div class="{{CSS.MAP}}"><ul>{{#each fontawesomes}}<li><a href="#" class="{{../CSS.EMOTE}}" data-text="{{text}}">{{{icon}}}</a></li>{{/each}}</ul></div>';e.namespace("M.atto_fontawesome").Button=e.Base.create("button",e.M.editor_atto.EditorPlugin,[],{_currentSelection:null,initializer:function(){this.addButton({icon:"e/text_color_picker",callback:this._displayDialogue})},_displayDialogue:function(){this._currentSelection=this.get("host").getSelection();if(this._currentSelection===!1)return;var e=this.getDialogue({headerContent:"FontAwesome Icons",focusAfterHide:!0},!0);e.set("bodyContent",this._getDialogueContent()).show()},_insertEmote:function(e){var t=e.target.ancestor(i.EMOTE,!0),n=this.get("host");e.preventDefault(),this.getDialogue({focusAfterHide:null}).hide();var r=" "+t.getData("text")+" ";n.setSelection(this._currentSelection),n.insertContentAtFocusPoint(r),this.markUpdated()},_getDialogueContent:function(){var t=e.Handlebars.compile(s),n=e.Node.create(t({fontawesomes:this.get("fontawesomes"),CSS:r}));return n.delegate("click",this._insertEmote,i.EMOTE,this),n}},{ATTRS:{fontawesomes:{value:{}}}})},"@VERSION@",{requires:["moodle-editor_atto-plugin"]});
